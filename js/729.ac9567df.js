"use strict";(self["webpackChunkdotshare"]=self["webpackChunkdotshare"]||[]).push([[729],{8729:function(e,s,t){t.r(s),t.d(s,{default:function(){return b}});var a=t(3396),r=t(9242);const o=e=>((0,a.dD)("data-v-6050325f"),e=e(),(0,a.Cn)(),e),i={class:"box signup"},n=o((()=>(0,a._)("h2",null,"Register",-1))),l={class:"form__input"},u=o((()=>(0,a._)("p",null,"Usuario: ",-1))),p={class:"form__input"},d=o((()=>(0,a._)("p",null,"Email: ",-1))),m={class:"form__input"},h=o((()=>(0,a._)("p",null,"Contraseña: ",-1))),c={class:"form__input"},_=o((()=>(0,a._)("p",null,"Contraseña: ",-1))),f=o((()=>(0,a._)("div",null,[(0,a._)("button",{class:"submit",type:"submit"},"Registrar")],-1)));function w(e,s,t,o,w,v){return(0,a.wg)(),(0,a.iD)("form",{onSubmit:s[4]||(s[4]=(0,r.iM)(((...e)=>v.postUsuario&&v.postUsuario(...e)),["prevent"])),class:"cover"},[(0,a._)("div",i,[n,(0,a._)("div",l,[u,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>w.userName=e),type:"text",name:"user",id:""},null,512),[[r.nr,w.userName]])]),(0,a._)("div",p,[d,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>w.email=e),type:"text",name:"email",id:""},null,512),[[r.nr,w.email]])]),(0,a._)("div",m,[h,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>w.password=e),type:"text",name:"password",id:""},null,512),[[r.nr,w.password]])]),(0,a._)("div",c,[_,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>w.repassword=e),type:"text",name:"repeatpassword",id:""},null,512),[[r.nr,w.repassword]])]),f])],32)}t(7658);var v=t(4161),g=t(3259),y={name:"SignUpView",components:{},data(){return{users:[],userName:"",email:"",password:"",repassword:"",showMess:!1,errMess:""}},methods:{postUsuario(){if(0===this.userName?.length|0===this.email?.length|0===this.password?.length|0===this.repassword?.length){const e="Porfavor rellene todos los campos antes de continuar";g.$.emit("mostarError",e)}else if(this.password===this.repassword)(0,v.Z)({method:"GET",url:`http://143.47.50.240:80/APIdotshare/perfil/${this.userName}`}).then((e=>e.data)).then((e=>{if(e){const e="Ya existe usuario con ese nick";g.$.emit("mostarError",e)}else v.Z.post("http://143.47.50.240:80/APIdotshare/usuario",{nombre:this.userName,email:this.email,passwd:this.password}).then((e=>e.data)).then((e=>{v.Z.post("http://143.47.50.240:80/APIdotshare/perfil",{idUsuario:e,nombre:this.userName}).then((e=>{e=e.data,e.perfil={idPerfil:e.idPerfil},sessionStorage.setItem("user",JSON.stringify(e)),this.$router.push({name:"alperfil",params:{id:this.userName}}),g.$.emit("actualizaNav",!1)}))})).catch((e=>console.log(e)))}));else{const e="Las contraeñas no coinciden";g.$.emit("mostarError",e)}}}},N=t(89);const U=(0,N.Z)(y,[["render",w],["__scopeId","data-v-6050325f"]]);var b=U}}]);
//# sourceMappingURL=729.ac9567df.js.map