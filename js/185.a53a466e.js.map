{"version":3,"file":"js/185.a53a466e.js","mappings":"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","sources":["webpack://dotshare/./src/views/ProfileListView.vue","webpack://dotshare/./src/views/ProfileListView.vue?18a7"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n      <div :key=\"this.someDeleted\">\r\n        <div class=\"row\" v-for=\"view in views\" :key=\"view.idPerfil\">\r\n        <router-link  class=\"rlink col-11\" :to=\"'/profile/' + view.nick\">\r\n            <img v-if=\"view.loaded\" class=\"profile__img\" :src=\"view.imageUrl\" alt=\"\">\r\n            <img v-if=\"!view.loaded\" class=\"profile__img\" src=\"../assets/default.png\" alt=\"\">\r\n            <div class=\"content\">\r\n                <h2>@{{ view.nick }}</h2>\r\n                <h5>{{ view.nombre }}</h5>\r\n                <p>Followers: {{ view.nseguidores }}</p>\r\n            </div>\r\n        </router-link>\r\n        <div v-if=\"showDelete\" class=\"bin col-1\" @click=\"deleteSegui(view.idPerfil)\">\r\n          <div class=\"h-26\">\r\n            <img src=\"../assets/borrar.png\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport http from 'axios'\r\nimport { storage } from '@/vuefire/firebase'\r\nimport { ref, getDownloadURL } from '@firebase/storage'\r\n\r\nexport default {\r\n  name: 'ProfileSearch',\r\n  props: {\r\n    search: {\r\n      type: String\r\n    },\r\n    id: {\r\n      type: String\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      views: [],\r\n      showDelete: false,\r\n      someDeleted: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getListView()\r\n    this.checkVisibility()\r\n  },\r\n  methods: {\r\n    getImageUrl (view) {\r\n    },\r\n    checkVisibility () {\r\n      const user = JSON.parse(sessionStorage.getItem('user'))\r\n      if (user.nombre === this.id) {\r\n        this.showDelete = true\r\n      }\r\n    },\r\n    deleteSegui (seguidor) {\r\n      http(\r\n        {\r\n          method: 'GET',\r\n          url: `http://143.47.50.240:80/APIdotshare/perfil/${this.id}`\r\n        }\r\n      ).then((response) => response.data)\r\n        .then(response => {\r\n          http(\r\n            {\r\n              method: 'GET',\r\n              url: `http://143.47.50.240/APIdotshare/borrar/${this.search}/${response.idPerfil}/${seguidor}`\r\n            }\r\n          ).then((response) => response.data)\r\n            .then(response => {\r\n              this.views = this.views.filter(view => view.idPerfil !== seguidor)\r\n            })\r\n        })\r\n    },\r\n    getListView () {\r\n      http(\r\n        {\r\n          method: 'GET',\r\n          url: `http://143.47.50.240:80/APIdotshare/perfil/${this.id}`\r\n        }\r\n      )\r\n        .then((response) => response.data)\r\n        .then(response => {\r\n          http(\r\n            {\r\n              method: 'GET',\r\n              url: `http://143.47.50.240:80/APIdotshare/perfil/${response.idPerfil}/${this.search}`\r\n            }\r\n          ).then((response) => response.data)\r\n            .then(response => {\r\n              response.forEach(e => {\r\n                http(\r\n                  {\r\n                    method: 'GET',\r\n                    url: `http://143.47.50.240:80/APIdotshare/perfilbyid/${e.idPerfil}`\r\n                  }\r\n                ).then((response) => response.data)\r\n                  .then(response => {\r\n                    e.nick = response.nombre\r\n                    e.loaded = false\r\n                    getDownloadURL(ref(storage, `perfil/${e.nick}/${e.img}`))\r\n                      .then(url => {\r\n                        e.loaded = true\r\n                        e.imageUrl = url\r\n                        this.views.push(e)\r\n                      })\r\n                      .catch(error => {\r\n                        e.loaded = false\r\n                        console.log('Error al descargar imagen:', error)\r\n                        this.views.push(e)\r\n                      })\r\n                  })\r\n              })\r\n            })\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n  <style scoped>\r\n  .h-26{\r\n    align-self: center;\r\n    height: 26px;\r\n  }\r\n  .bin{\r\n    display: flex;\r\n    margin: auto;\r\n    height: 100%;\r\n  }\r\n  .bin:hover{\r\n    cursor: pointer;\r\n  }\r\n  .profile__img{\r\n    background: red;\r\n    width: 128px;\r\n    object-fit:cover;\r\n    border-radius: 50%;\r\n    height: 128px;\r\n  }\r\n  .content{\r\n    text-align: left;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: 270px;\r\n  }\r\n  .rlink{\r\n    padding: 1em;\r\n    display: flex;\r\n    justify-content: center;\r\n    column-gap: 3em;\r\n    border-bottom: 1px solid gainsboro;\r\n    text-decoration: none;\r\n    color: #2c3e50;\r\n  }\r\n  .rlink:hover{\r\n    background-color: gainsboro;\r\n  }\r\n  </style>\r\n","import { render } from \"./ProfileListView.vue?vue&type=template&id=4abe8ed7&scoped=true\"\nimport script from \"./ProfileListView.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileListView.vue?vue&type=script&lang=js\"\n\nimport \"./ProfileListView.vue?vue&type=style&index=0&id=4abe8ed7&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\mario\\\\OneDrive\\\\Escritorio\\\\TFG-Frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4abe8ed7\"]])\n\nexport default __exports__"],"names":["class","src","_imports_0","alt","_createElementVNode","_imports_1","_hoisted_6","_createElementBlock","_hoisted_1","key","someDeleted","_Fragment","_renderList","$data","views","view","idPerfil","_createVNode","_component_router_link","to","nick","loaded","imageUrl","_hoisted_3","_hoisted_4","_toDisplayString","nombre","nseguidores","showDelete","onClick","$event","$options","deleteSegui","name","props","search","type","String","id","data","mounted","this","getListView","checkVisibility","methods","getImageUrl","user","JSON","parse","sessionStorage","getItem","seguidor","http","method","url","then","response","filter","forEach","e","getDownloadURL","ref","storage","img","push","catch","error","console","log","__exports__","render"],"sourceRoot":""}